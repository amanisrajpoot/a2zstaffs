---
import Button from './Button.astro';

interface Props {
  title: string;
  subtitle?: string;
  primaryCTA?: { text: string; href: string };
  secondaryCTA?: { text: string; href: string };
  background?: 'default' | 'gradient';
}

const {
  title,
  subtitle,
  primaryCTA,
  secondaryCTA,
  background = 'gradient',
} = Astro.props;

const backgroundClasses = {
  default: 'bg-[var(--bg-secondary)] dark:bg-[var(--bg)]',
  secondary: 'bg-[var(--bg-tertiary)]/60 dark:bg-[var(--bg-tertiary)]',
  gradient: 'text-white',
};

const highlightChips = [
  'Managed IT & Cloud CoEs',
  'CX, BPM & KPO Pods',
  'Specialized Staffing Squads',
];

const cardClasses =
  'relative mx-auto max-w-sm overflow-hidden rounded-3xl p-6 shadow-[var(--shadow-lg)] backdrop-blur-lg transition-transform duration-300 hover:translate-y-[-4px]';
const cardBackground =
  background === 'gradient'
    ? 'border border-white/15 bg-white/80 dark:bg-slate-900/60'
    : 'border border-[var(--border)] bg-[var(--bg-elevated)] dark:border-[var(--border)]/40 dark:bg-[var(--bg)]';
---

<section class={`section ${backgroundClasses[background]} ${background === 'gradient' ? 'relative overflow-hidden text-white' : ''}`}>
  {background === 'gradient' && (
    <>
      <div class="absolute inset-0 -z-20 opacity-80" style="background: var(--gradient-primary);"></div>
      <div class="absolute inset-0 -z-10 opacity-70 blur-3xl" style="background: var(--gradient-hero);"></div>
      <div class="absolute inset-y-0 right-0 -z-10 hidden lg:block w-1/2 bg-[radial-gradient(circle_at_top,rgba(255,255,255,0.25),transparent_55%)]"></div>
    </>
  )}
  <div class="container">
    <div class="mx-auto flex max-w-6xl flex-col items-center gap-10 text-center lg:flex-row lg:text-left">
      <div class="flex-1 space-y-6 animate-fade-in">
        <span class={`inline-flex items-center gap-2 rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-[0.35em] ${
          background === 'gradient'
            ? 'bg-white/10 text-white'
            : 'bg-[rgba(29,78,216,0.12)] text-[var(--primary)]'
        }`}>
          IT • BPO • Staffing Excellence
        </span>
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-semibold leading-[1.05] tracking-[-0.03em]">
          {title}
        </h1>
        {subtitle && (
          <p class={`text-lg md:text-xl max-w-2xl ${background === 'gradient' ? 'text-white/85' : 'text-[var(--text-muted)]'}`}>
            {subtitle}
          </p>
        )}
        {(primaryCTA || secondaryCTA) && (
          <div class="flex flex-col items-center gap-4 sm:flex-row sm:justify-start">
            {primaryCTA && (
              <Button
                href={primaryCTA.href}
                variant="primary"
                size="lg"
                class={background === 'gradient' ? 'bg-white text-[var(--primary)] hover:bg-white/90' : ''}
              >
                {primaryCTA.text}
              </Button>
            )}
            {secondaryCTA && (
              <Button
                href={secondaryCTA.href}
                variant={background === 'gradient' ? 'outline' : 'secondary'}
                size="lg"
                class={background === 'gradient' ? 'border-white text-white hover:bg-white/10' : ''}
              >
                {secondaryCTA.text}
              </Button>
            )}
          </div>
        )}
        <div class={`mt-8 flex flex-wrap justify-center gap-3 sm:justify-start ${background === 'gradient' ? 'text-white/85' : 'text-[var(--text-muted)]'}`}>
          {highlightChips.map((chip) => (
            <span class={`inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm ${
              background === 'gradient'
                ? 'border-white/30 bg-white/10'
                : 'border-[rgba(29,78,216,0.15)] bg-white shadow-sm'
            }`}>
              <span class="h-2 w-2 rounded-full bg-[var(--secondary)]"></span>
              {chip}
            </span>
          ))}
        </div>
        </div>
        <div class="flex-1">
          <div class={`${cardClasses} ${cardBackground}`}>
            <div class="absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,rgba(59,130,246,0.25),transparent_65%)]"></div>
            <h3 class={`text-sm font-semibold uppercase tracking-[0.3em] ${background === 'gradient' ? 'text-[var(--primary-dark)] dark:text-white/80' : 'text-[var(--primary)]'}`}>
              Delivery Centers
            </h3>
            <p class={`mt-3 text-2xl font-semibold ${background === 'gradient' ? 'text-[var(--text-secondary)] dark:text-white' : 'text-[var(--text-secondary)]'}`}>
              Blended operations across India with 24/7 support desks and certified delivery pods.
            </p>
            <div class="mt-6 grid grid-cols-2 gap-4 text-left text-sm text-[var(--text-muted)] dark:text-slate-300">
              <div>
                <span class="block text-xs uppercase tracking-wide text-[var(--secondary)]">IT & Cloud</span>
                <span class="text-base font-semibold text-[var(--text-secondary)] dark:text-white">Agile pods</span>
              </div>
              <div>
                <span class="block text-xs uppercase tracking-wide text-[var(--secondary)]">BPO Suites</span>
                <span class="text-base font-semibold text-[var(--text-secondary)] dark:text-white">CX, F&A, LPO</span>
              </div>
              <div>
                <span class="block text-xs uppercase tracking-wide text-[var(--secondary)]">Staffing</span>
                <span class="text-base font-semibold text-[var(--text-secondary)] dark:text-white">On-demand</span>
              </div>
              <div>
                <span class="block text-xs uppercase tracking-wide text-[var(--secondary)]">Governance</span>
                <span class="text-base font-semibold text-[var(--text-secondary)] dark:text-white">ISO, SOC ready</span>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>
</section>
